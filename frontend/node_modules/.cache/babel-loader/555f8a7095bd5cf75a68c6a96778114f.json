{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/PC/Desktop/Works/jobs/CalibreStore/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';import{add}from'../Cart/store';import{products}from'../Home/products';import Navbar from'../Navbar/Navbar';import'./css/item.css';function Item(props){var path=process.env.PUBLIC_URL+'/images/';var href=window.location.href;var id=href.substring(href.indexOf(\"=\")+1,href.lastIndexOf(\"?s\"));var pic=href.substring(href.lastIndexOf(\"=\")+1);var _useState=useState({id:id,pic:pic}),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),bought=_useState4[0],setBought=_useState4[1];var _useState5=useState({opac:\"0\",rit:\"-50%\"}),_useState6=_slicedToArray(_useState5,2),disp=_useState6[0],setDisp=_useState6[1];var btn=useRef(\"\");useEffect(function(){setQuery({id:id,pic:pic});document.title=\" Item | KennyCode\";if(sessionStorage.getItem(\"carted-item\".concat(id))!==null){setBought(true);btn.current.click=function(){window.location.assign(\"/cart\");};}},[id,pic]);var adding=function adding(){setDisp({opac:\"1\",rit:\"0\"});setBought(true);add(products[query.id],query.id);setTimeout(function(){setDisp({opac:\"0\",rit:\"-50%\"});},3000);if(sessionStorage.getItem(\"carted-item\".concat(id))!==null){// window.location.assign(\"/cart\")\n}};var _products$query$id=products[query.id],name=_products$query$id.name,price=_products$query$id.price;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{color:\"black\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"itempage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-fixed w-50 bg-success text-white px-2 pt-4 h4 sl text-center\",style:{top:\"60px\",height:\"100px\",right:disp.rit,opacity:disp.opac,transition:\"3s right\"},children:\"Item successfully added\"}),/*#__PURE__*/_jsx(\"div\",{className:\"picture\",children:/*#__PURE__*/_jsx(\"img\",{src:path+query.pic,width:\"100%\",height:\"100%\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details text-dark\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[name,\" \"]}),\" \",query.pic,/*#__PURE__*/_jsx(\"h3\",{children:price}),\"Delivery info :\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-50 border btncart\",ref:btn,style:{backgroundColor:bought?\"green\":\"none\",color:bought?\"white\":\"grey\",fontSize:\"15px\"},onClick:function onClick(){adding();},children:bought?\"View cart and checkout\":\"Add to cart\"})]})]})]});}export default Item;","map":{"version":3,"sources":["C:/Users/PC/Desktop/Works/jobs/CalibreStore/frontend/src/components/item/Item.jsx"],"names":["React","useEffect","useRef","useState","add","products","Navbar","Item","props","path","process","env","PUBLIC_URL","href","window","location","id","substring","indexOf","lastIndexOf","pic","query","setQuery","bought","setBought","opac","rit","disp","setDisp","btn","document","title","sessionStorage","getItem","current","click","assign","adding","setTimeout","name","price","top","height","right","opacity","transition","backgroundColor","color","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { add } from '../Cart/store';\r\nimport { products } from '../Home/products';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport './css/item.css'\r\n\r\nfunction Item(props) {\r\n    let path = process.env.PUBLIC_URL + '/images/'\r\n    let href = window.location.href\r\n    let id = href.substring(href.indexOf(\"=\") + 1, href.lastIndexOf(\"?s\"))\r\n    let pic = href.substring(href.lastIndexOf(\"=\") + 1)\r\n    const [query, setQuery] = useState({ id: id, pic: pic })\r\n    const [bought, setBought] = useState(false)\r\n    const [disp, setDisp] = useState({opac:\"0\",rit:\"-50%\"})\r\n    const btn = useRef(\"\")\r\n    useEffect(() => {\r\n        setQuery({ id: id, pic: pic })\r\n        document.title = \" Item | KennyCode\"\r\n        if (sessionStorage.getItem(`carted-item${id}`) !== null) {\r\n            setBought(true)\r\n            btn.current.click = function(){\r\n                window.location.assign(\"/cart\")\r\n            }\r\n        }\r\n    }, [id, pic])\r\n    const adding=()=>{\r\n        setDisp({opac:\"1\",rit:\"0\"});\r\n         setBought(true); add(products[query.id],query.id)\r\n        setTimeout(() => {\r\n            setDisp({opac:\"0\",rit:\"-50%\"})\r\n        }, 3000);\r\n        if(sessionStorage.getItem(`carted-item${id}`) !== null){\r\n                // window.location.assign(\"/cart\")\r\n        }\r\n    }\r\n    const { name, price } = products[query.id];\r\n    return (\r\n        <div>\r\n            <Navbar color=\"black\" />\r\n            <div className=\"itempage\">\r\n                <div className=\"position-fixed w-50 bg-success text-white px-2 pt-4 h4 sl text-center\" \r\n                style={{top:\"60px\",height:\"100px\",right:disp.rit,opacity:disp.opac,transition:\"3s right\"}}>\r\n                    Item successfully added \r\n                </div>\r\n                <div className=\"picture\">\r\n                    <img src={path + query.pic} width=\"100%\" height=\"100%\" alt=\"\" />\r\n                </div>\r\n                <div className=\"details text-dark\">\r\n                    <div className=\"p-3\">\r\n                        <h2>{name} </h2> {query.pic}\r\n                        <h3>{price}</h3>\r\n                    Delivery info :\r\n                    </div>\r\n                    {/* <div className=\"mate d-flex\">\r\n                        <button className=\"cartbtn\">view cart and checkout</button>\r\n                        <button  className=\"cartbtn\"> </button>\r\n                    </div> */}\r\n                    <button className=\"w-50 border btncart\" ref={btn}\r\n                        style={{ backgroundColor: bought ? \"green\" : \"none\", color: bought ? \"white\" : \"grey\", fontSize:\"15px\" }} \r\n                        onClick={() => { adding() }}>\r\n                        {bought ? \"View cart and checkout\" : \"Add to cart\"}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Item;"]},"metadata":{},"sourceType":"module"}